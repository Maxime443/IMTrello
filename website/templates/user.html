{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<div align="center" style="width:100%">
    <h4>My Profile</h4>
</div>
<div class="container-mid">
    <div class="container-login white_back">
        <form id="profileForm" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="email">Email Address</label>
                <input
                    type="email"
                    class="form-control-special"
                    id="email"
                    name="email"
                    value="{{email}}"
                    disabled
                />
            </div>
            <div class="form-group">
                <label for="firstName">First Name</label>
                <input
                    type="text"
                    class="form-control-special"
                    id="firstName"
                    name="firstName"
                    value="{{name}}"
                    disabled
                />
            </div>

            <div class="form-group">
                <label for="user_type">Type</label>
                <select id="user_type" name="user_type" class="form-control-special" disabled>
                    <option value="{{type}}">{{type}}</option>
                    <option value="PROJECT_MANAGER">Project Manager</option>
                    <option value="DEVELOPER">Developer</option>
                </select>
            </div>
            <div class="form-group">
                <label for="user_experience">Experience</label>
                <select id="user_experience" name="user_experience" class="form-control-special" disabled>
                    <option value="{{experience}}">{{experience}}</option>
                    <option value="BEGINNER">Beginner</option>
                    <option value="INTERMEDIATE">Intermediate</option>
                    <option value="CONFIRMED">Confirmed</option>
                </select>
            </div>
            <div align="center">
            <button type="button" id="updateButton" class="btn btn-primary">Update</button>
            <button type="submit" id="submitButton" class="btn btn-primary" style="display: none;">Submit</button>
        </div>
        </form>
    </div>
</div>

<script>
    document.getElementById('updateButton').addEventListener('click', function() {
        var form = document.getElementById('profileForm');
        var inputs = form.getElementsByTagName('input');
        var selects = form.getElementsByTagName('select');
        
        for (var i = 0; i < inputs.length; i++) {
            inputs[i].disabled = false;
        }
        
        for (var i = 0; i < selects.length; i++) {
            selects[i].disabled = false;
        }
        
        document.getElementById('updateButton').style.display = 'none';
        document.getElementById('submitButton').style.display = 'block';
    });
</script>
{% endblock %}
